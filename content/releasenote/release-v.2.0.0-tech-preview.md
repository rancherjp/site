---
date: "2017-09-02"
title: "リリース v2.0.0 テクニカルプレビュー"
slug: "v2.0.0 テクニカルプレビュー"
author: "Rancher JP"
description: "リリース v2.0.0 テクニカルプレビュー"
≈: false
tags:
  - "releasenote"
categories:
  - "releasenote"
archives:
  - "2017"
  - "2017/09"
---

# リリース v2.0.0 テクニカルプレビュー

## バージョン
- rancher/server:v2.0.0-alpha8
- rancher/agent:v2.0-alpha4
- rancher/lb-service-haproxy:v0.8.1
- rancher-v1.0.0-alpha3

## 対応しているDockerのバージョン

- Docker 1.12.6
- Docker 1.13.1
- Docker 17.03.0-ce
- Docker 17.06.0-ce

## 追加機能

> **注意**: テクニカルプレビューにおいては、全機能が使用できるわけではない点についてご理解ください。
管理パネル上で無効になっている機能がある場合もあります。開発チームとしても、できるだけ早い段階で提供できるようにいたします。
以下、本ビルドで追加された主な機能について紹介します。

- **2.0 UI** - Kubernetes上でRancherのUXを提供するために、UIを作り直しました。以下の変更を行っております。
  - "exec shell"と"view logs"の画面サイズを変更可能にした → 旧UIで最も要望の高かった変更の一つです。

  - 任意の資源(リソース)に対して、アクションを複数同時に実行可能になった
  - Rancher上の殆どのリソース(コンテナ、ホスト、カタログなど)を検索できるオプションを追加
  - コンテナとホスト用の、フィルターオプションとテーブルヘッダを含む新しいリストビュー、テーブルビュー
  - 検索機能向上を目的としてカタログページをリニューアルした 管理しやすいように各カタログが含むインスタンス一覧を"Apps"配下に表示
  - コンテナ/ホスト管理/詳細/新規作成のページを一新
  - 古いバージョンとのdiffを表示、任意のリビジョンに切り戻す機能などを、ロールバックについて機能を向上
  - その他、UIの全般的な応答速度などを速めた

- **クラスターと環境** - Kubernetesの優位性を活かし、Rancherでもついにクラスターの概念を導入、これによってクラスター上で(K8s namespaceのように)複数環境を構築できるようになりました。複数コンテナが物理的に同じノードを共有しながらも、k8s namespaceを利用してそれぞれ独立したワークスペースを所有できるようになります。

- **Kunernetes環境のインポート** - Rancherを使ってどこからでもK8sクラスターを管理できるようになります。Rancher上で管理されるあなた自身のK8s clusterを作成するということもできます。また、GKEやACSなどの主要なホスティングプロバイダ上の環境にとどまらず、kopsやkubeadmを使って構築した自前のクラスターに至るまで、Rancher上にインポートが可能です。 

- **ホストテンプレート** - RancherのDocker Machineインテグレーションを使って新規作成したホストは全て自動的にテンプレート化されるようになります。同一環境を追加で同じクラウドプロバイダーから作成する際に情報を再入力することなく、迅速にホストを立てることができます。

## 既知の主要なバグ

- Systemの状態がHealthyになる前にコンテナを作成すると、次のエラーが表示されることがわかっています。"service account default/default was not found, retry after the service account is created"  
これは、最初のノードが追加される際、k8s componentsや全ての要求システムが立ち上がるまでに数分の時間を要することが原因です。管理画面右上のSystemよりヘルスチェックを行うことができます。一度Systemの状態がHealthyになれば、コンテナの追加や再構築などを行うことができます。

- このテクニカルプレビュー時点では、前バージョンからのアップデート、HAモードやDockerhubへのアクセスについてはサポート対象外です(エアギャップ環境もサポートされていません)。

- Kubernetesからインポートされたクラスターのノードを削除しても、ランチャー上に正常反映されません。

- クラウドプロバイダー経由でホストを追加する際に一定条件下でバグが発生することがわかっています。もし遭遇した場合は、一度ホストを削除してから再試行してください。

- 現在、Anonymous volumeとNamed volumeがRancher上で正常に動作しないことがわかっています。そのため、カタログについても各ボリュームを利用しているものについては選択不可となっております。それらについてはサポートされ次第順次開放予定です。